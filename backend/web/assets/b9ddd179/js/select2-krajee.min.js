/*!
 * @copyright Copyright &copy; Kartik Visweswaran, Krajee.com, 2014 - 2016
 * @version 2.0.9
 *
 * Additional enhancements for Select2 widget extension for Yii 2.0.
 *
 * Author: Kartik Visweswaran
 * For more JQuery plugins visit http://plugins.krajee.com
 * For more Yii related demos visit http://demos.krajee.com
 */var initS2ToggleAll=function(){},initS2Order=function(){},initS2Loading=function(){},initS2Change=function(){},initS2Open=function(){},initS2Unselect=function(){};!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=a(require("jquery")):a(window.jQuery)}(function(a){"use strict";initS2ToggleAll=function(b){var c=a("#"+b),d="#s2-togall-"+b,e=a(d);c.attr("multiple")&&(c.on("select2:open.krajees2",function(){e.parent().attr("id")!=="parent-"+d&&c.attr("multiple")&&(a("#select2-"+b+"-results").closest(".select2-dropdown").prepend(e),a("#parent-"+d).remove())}).on("change.krajeeselect2",function(){if(c.attr("multiple")){var b=0,d=c.val()?c.val().length:0;e.removeClass("s2-togall-select s2-togall-unselect"),c.find("option:enabled").each(function(){a(this).val().length&&b++}),0===b||d!==b?e.addClass("s2-togall-select"):e.addClass("s2-togall-unselect")}}),e.off(".krajees2").on("click.krajees2",function(){var b=e.hasClass("s2-togall-select"),d=!0,f="selectall";b||(d=!1,f="unselectall"),c.find("option").each(function(){var b=a(this);!b.attr("disabled")&&b.val().length&&b.prop("selected",d)}),c.select2("close").trigger("krajeeselect2:"+f).trigger("change")}))},initS2Change=function(b){b=b||a(this);var d,e,c=a(".select2-container--open"),f=b.parents("[class*='has-']");if(f.length)for(d=f[0].className.split(/\s+/),e=0;e<d.length;e++)d[e].match("has-")&&c.removeClass("has-success has-error has-warning").addClass(d[e])},initS2Open=function(){var b=a(this);b.data("unselecting")&&(b.removeData("unselecting"),b.select2("close").trigger("krajeeselect2:cleared"))},initS2Unselect=function(){a(this).data("unselecting",!0)},initS2Order=function(b,c){var d=a("#"+b);c&&c.length&&(a.each(c,function(a,b){d.find('option[value="'+b+'"]').appendTo(d)}),d.find("option:not(:selected)").appendTo(d))},initS2Loading=function(b,c){var d=window[c]||{},e=d.themeCss,f=d.sizeCss,g=d.doOrder,h=d.doReset,i=d.doToggle,j=a("#"+b),k=a(e),l=a(".kv-plugin-loading.loading-"+b),m=a(".group-"+b);j.off(".krajees2"),k.length||j.show(),m.length&&m.removeClass("kv-input-group-hide").removeClass(".group-"+b),l.length&&l.remove(),f&&j.next(e).removeClass(f).addClass(f),h&&j.closest("form").off(".krajees2").on("reset.krajees2",function(){setTimeout(function(){j.trigger("change").trigger("krajeeselect2:reset")},100)}),i&&initS2ToggleAll(b),g&&j.on("select2:select.krajees2 select2:unselect.krajees2",function(b){var c=a(b.params.data.element);c&&c.length&&(c.detach(),j.append(c).find("option:not(:selected)").appendTo(j))}),j.on("change.krajees2",function(){setTimeout(initS2Change,500)}).on("select2:open.krajees2",initS2Open).on("select2:unselecting.krajees2",initS2Unselect)}});